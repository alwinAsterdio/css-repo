<?php
$sale_rent = $property->get('sale_rent');
if ($sale_rent === 'for_sale_and_rent') {
    $sale_rent = \App\Utils\CommonFunctions::getQueryParam('sale_rent', 'for_sale');
}

$property_type = $property->get('property_type');
$features_list = \App\Utils\Config::read('features/short_list-sothebys.php');
if (empty($features_list[$sale_rent]) || empty($features_list[$sale_rent][$property_type])) {
    return;
}

$columns_html = '';

?>
<div class="features-short">
    <?php foreach ($features_list[$sale_rent][$property_type] as $field_name) : ?>
        <?php
        $icon = '';
        switch ($field_name) {
            case 'bedrooms':
                $icon = '<svg width="14" height="14" viewBox="0 0 14 14" class="fill-theme-secondary-color" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12.4079 6.28082V2.38816C12.4079 1.59662 11.764 0.952637 10.9724 0.952637H3.02753C2.23598 0.952637 1.59206 1.59662 1.59206 2.38816V6.28082C0.679984 6.50023 0 7.32237 0 8.30083V11.2042C0 11.4346 0.186731 11.6214 0.417074 11.6214H1.59204V12.6301C1.59204 12.8604 1.77876 13.0471 2.00911 13.0471C2.23945 13.0471 2.42619 12.8604 2.42619 12.6301V11.6214H11.5737V12.6301C11.5737 12.8604 11.7605 13.0471 11.9909 13.0471C12.2212 13.0471 12.4079 12.8604 12.4079 12.6301V11.6214H13.5829C13.8132 11.6214 13.9999 11.4346 13.9999 11.2042V8.30083C14 7.32237 13.32 6.50023 12.4079 6.28082ZM2.42621 2.38816C2.42621 2.05659 2.69599 1.78681 3.02753 1.78681H10.9724C11.304 1.78681 11.5738 2.05659 11.5738 2.38816V6.2229H10.1955V5.5649C10.1955 4.47471 9.3086 3.58779 8.21842 3.58779H5.78164C4.69145 3.58779 3.80453 4.47474 3.80453 5.5649V6.22287H2.42621V2.38816ZM9.36138 5.5649V6.22287H4.63862V5.5649C4.63862 4.93466 5.15134 4.42194 5.78159 4.42194H8.21835C8.84863 4.42191 9.36138 4.93468 9.36138 5.5649ZM0.834148 10.7872V8.30083C0.834148 7.61497 1.3921 7.05707 2.07791 7.05707H11.922C12.6078 7.05707 13.1658 7.61497 13.1658 8.30083V10.7872H0.834148Z"/>
                </svg>';
                break;
            case 'bathrooms':
                $icon = '<svg width="14" height="14" viewBox="0 0 14 14" class="fill-theme-secondary-color" xmlns="http://www.w3.org/2000/svg">
                        <path d="M10.1811 0H7.02737C5.51959 0 4.29297 1.22662 4.29297 2.73438V4.34189C2.47055 4.60764 1.06641 6.18054 1.06641 8.07562C1.06641 8.37753 1.31122 8.62246 1.61328 8.62246H8.06638C8.3685 8.62246 8.61329 8.37753 8.61329 8.07562C8.61329 6.18054 7.20916 4.60764 5.38672 4.34189V2.73438C5.38672 1.82968 6.12265 1.09375 7.02737 1.09375H10.1809C11.0856 1.09375 11.8216 1.82968 11.8216 2.73438V13.4532C11.8216 13.7552 12.0664 14 12.3684 14C12.6705 14 12.9153 13.7552 12.9153 13.4532V2.73438C12.9154 1.22662 11.6887 0 10.1811 0ZM7.46347 7.52864H2.21623C2.46937 6.31235 3.54956 5.3958 4.83984 5.3958C6.13012 5.3958 7.21028 6.31235 7.46347 7.52864ZM5.38672 9.95771V10.778C5.38672 11.0801 5.1419 11.3249 4.83984 11.3249C4.53778 11.3249 4.29297 11.0801 4.29297 10.778V9.95771C4.29297 9.65566 4.53778 9.41087 4.83984 9.41087C5.1419 9.41087 5.38672 9.65566 5.38672 9.95771ZM5.3802 12.6328V13.4532C5.3802 13.7552 5.13539 14 4.83332 14C4.53137 14 4.28645 13.7552 4.28645 13.4532V12.6328C4.28645 12.3308 4.53137 12.0859 4.83332 12.0859C5.13539 12.0859 5.3802 12.3308 5.3802 12.6328ZM3.23895 9.95771V10.778C3.23895 11.0801 2.99403 11.3249 2.69208 11.3249C2.39002 11.3249 2.1452 11.0801 2.1452 10.778V9.95771C2.1452 9.65566 2.39002 9.41087 2.69208 9.41087C2.99403 9.41087 3.23895 9.65566 3.23895 9.95771ZM3.23244 12.6328V13.4532C3.23244 13.7552 2.98763 14 2.68556 14C2.3835 14 2.13869 13.7552 2.13869 13.4532V12.6328C2.13869 12.3308 2.3835 12.0859 2.68556 12.0859C2.98763 12.0859 3.23244 12.3308 3.23244 12.6328ZM7.52808 9.95771V10.778C7.52808 11.0801 7.28315 11.3249 6.9812 11.3249C6.67914 11.3249 6.43432 11.0801 6.43432 10.778V9.95771C6.43432 9.65566 6.67914 9.41087 6.9812 9.41087C7.28315 9.41087 7.52808 9.65566 7.52808 9.95771ZM7.52157 12.6328V13.4532C7.52157 13.7552 7.27664 14 6.97469 14C6.67262 14 6.42781 13.7552 6.42781 13.4532V12.6328C6.42781 12.3308 6.67262 12.0859 6.97469 12.0859C7.27664 12.0859 7.52157 12.3308 7.52157 12.6328Z"/>
                    </svg>';
                break;
            case 'internal_area_amount':
            case 'plot_area_amount':
            case 'covered_area_amount':
                $icon = '<svg width="14" height="14" viewBox="0 0 14 14" class="fill-theme-secondary-color" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12.6875 1.75V4.375C12.6875 4.61661 12.4916 4.8125 12.25 4.8125C12.0084 4.8125 11.8125 4.61661 11.8125 4.375V2.80612L9.05933 5.55931C8.97386 5.64474 8.86186 5.6875 8.75 5.6875C8.63814 5.6875 8.52614 5.64474 8.44067 5.55931C8.26973 5.38836 8.26973 5.11153 8.44067 4.94069L11.1939 2.1875H9.625C9.38336 2.1875 9.1875 1.99161 9.1875 1.75C9.1875 1.50839 9.38336 1.3125 9.625 1.3125H12.25C12.4916 1.3125 12.6875 1.50839 12.6875 1.75ZM5.55931 4.94069L2.80612 2.1875H4.375C4.61661 2.1875 4.8125 1.99161 4.8125 1.75C4.8125 1.50839 4.61661 1.3125 4.375 1.3125H1.75C1.50839 1.3125 1.3125 1.50839 1.3125 1.75V4.375C1.3125 4.61661 1.50839 4.8125 1.75 4.8125C1.99161 4.8125 2.1875 4.61661 2.1875 4.375V2.80612L4.94069 5.55931C5.02611 5.64474 5.13811 5.6875 5.25 5.6875C5.36189 5.6875 5.47389 5.64474 5.55931 5.55931C5.73026 5.38847 5.73026 5.11153 5.55931 4.94069ZM12.25 9.1875C12.0084 9.1875 11.8125 9.38336 11.8125 9.625V11.1939L9.05933 8.44067C8.88839 8.26973 8.61154 8.26973 8.44067 8.44067C8.26987 8.61161 8.26973 8.88846 8.44067 9.05933L11.1939 11.8125H9.625C9.38336 11.8125 9.1875 12.0084 9.1875 12.25C9.1875 12.4916 9.38336 12.6875 9.625 12.6875H12.25C12.4916 12.6875 12.6875 12.4916 12.6875 12.25V9.625C12.6875 9.38336 12.4916 9.1875 12.25 9.1875ZM5.55931 8.44067C5.38836 8.26973 5.11153 8.26973 4.94069 8.44067L2.1875 11.1939V9.625C2.1875 9.38336 1.99161 9.1875 1.75 9.1875C1.50839 9.1875 1.3125 9.38336 1.3125 9.625V12.25C1.3125 12.4916 1.50839 12.6875 1.75 12.6875H4.375C4.61661 12.6875 4.8125 12.4916 4.8125 12.25C4.8125 12.0084 4.61661 11.8125 4.375 11.8125H2.80612L5.55931 9.05933C5.73026 8.88846 5.73026 8.61154 5.55931 8.44067Z"/>
                    </svg>';
                break;
        }
        ?>
        <?php
        $field_value = $property->getField($field_name, [ 'default_value' => $default ?? '' ]);

        if (empty($field_value)) {
            continue;
        }
        ?>
        <div class="features-short__group">
            <span class="features-short__group__icon"><?= $icon ?></span>
            <span class="features-short__group__value"><?= $field_value; ?></span>
        </div>
    <?php endforeach; ?>
</div>